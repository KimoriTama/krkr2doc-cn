<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" lang="zh">
<!-- generated by to_html.pl from StorageSystem.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>程序的目录结构（Storage System）</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="../../css/browser.css" type="text/css" rel="stylesheet" title="吉里吉里Reference用 标准Title" />
	<link href="../../index.html" target="_top" rel="Start" title="首页" />
    <link href="mailto:dee@kikyou.info" rev="Made" />
</head>
<body>
<h1>
	<a id="id262" name="id262">关于程序的目录结构系统（Storage System）</a>
</h1>
<div class="para">
<div>
　在吉里吉里的体系中，关于文件(file)或者档案文件(archive)内的文件、以及其他的资源文件(resource)的叫法，并不以“文件”相称，而是称之为「storage」也就是“存储”或者叫做“仓库”。<br />
<b class="uko">（U子注：这里所提到的文件(file)就是游戏在打包前的普通文件（.tjs、.ks、.jpg、.png以及各种文件夹等等），而所谓的档案文件(archive)其实就是指游戏打包后的.xp3文件。其实就是普通的文件/文件夹，只不过在吉里吉里的体系中，这些都被统称为storage了而已。在下面的叙述中，U子把这里的storage保留为storage。 ps:好麻烦，总感觉这真的是毫无意义啊 =_=|| 总之大家将就着理解一下吧...）</b>
</div>
</div>

<h1><a id="id263" name="id263">storage结构名</a>
</h1><div class="para"><div>
　所谓storage结构名是指：将仅能在吉里吉里内部使用的资源文件(storage)、以类似 URI 的形式表示出来。<br />
　以格式为：<code class="inlinecode">media://domain/path </code>这样的形式书写。path间的段落分隔符为 「/ 」(正斜线) 。<br />
</div></div>
<h1><a id="id264" name="id264">本地目录结构（Local Storage）</a>
</h1><div class="para"><div>
　在表示本地目录结构时，统一目录结构名中的 media 用 file 替换、domain 用 . （点号、即半角英文句号）替换。另外，在Windows系统下，路径开头依然是要带上盘符的。<br />
<br />
　例如，与 Windows 系统下的 C:\Program Files\Game\game.exe 相对应的storage结构名就以<code class="inlinecode">file://./c/program files/game/game.exe</code>这样来表示。<br />
<br />
　使用 <a target="main" class="jump" href="../Class Reference/Storages/Methods/f_Storages_getFullPath.html">Storages.getFullPath</a> 方法，可以将用户操作系统（OS）中的文件名转化成以storage结构名的格式来表示。在进行转换的过程中，文件名中的大写字母将全部被转换为小写字母来显示（对于本地目录结构来说是不区分大小写的）。另外，本地目录结构中用于分割上下级目录的 \ 也会被转换成 / 来显示。<br />
　<a target="main" class="jump" href="../Class Reference/Storages/Methods/f_Storages_getLocalName.html">Storages.getLocalName</a>方法可以从storage结构名转换为操作系统使用的文件名称。如果要将storage结构名传递给吉里吉里以外的应用程序，则必须使用此方法。<!--  メソッドは、統一ストレージ名から OS の使うファイル名への変換を行うことができます。吉里吉里以外のアプリケーションにストレージ名を渡す場合などはこのメソッドを使用する必要があります。 --><br />
</div></div>
<h1><a id="id265" name="id265">存档存储<!-- アーカイブストレージ -->（Archive Storage）</a>
</h1><div class="para"><div>
	　如果要指定存档中的存储，请用 &gt; 区分；并将&gt; >之前指定为storage的结构名 ；&gt; 之后指定为存档中的路径。<br />
<br />
　例如，file://./c/program files/game/game.xp3 内的 image/base.jpg 的storage结构名为：<br />
<code class="inlinecode">file://./c/program files/game/game.xp3&gt;image/base.jpg</code>。<br />
　2.19 beta 14 开始存档存储的区分字符从 '#' 变为了 '&gt;' 。<br />
<br />
　吉里吉里标准可以处理XP3这种吉里吉里独特形式的存档存储（因为是XPK的第三代形式XP3）。如何创建XP3格式的存档文件请参考<a target="main" class="jump" href="Releaser.html">Releaser</a> 。<br />
　XP3存档可以与可执行文件结合。在这种情况下，吉里吉里可以将可执行文件视为一个存档文件（Releaser只支持与吉里吉里本体的结合）。<!-- XP3 アーカイブは実行可能ファイルと結合することができます。この場合は吉里吉里は実行可能ファイルを一つのアーカイブファイルとして見なすことができます ( Releaser は 吉里吉里本体との結合しかサポートしていません )。 --><br />
</div></div>
<h1><a id="id266" name="id266">项目目录（Project Folder）</a>
</h1><div class="para"><div>
　一般情况下，在用吉里吉里制作游戏和工具等的时候，会把必要的文件全部归档到「项目文件夹」来进行开发。吉里吉里在启动时将当前文件夹设置为项目文件夹。<!-- 吉里吉里でゲームやツールなどを作る場合、必要なファイルはすべて「プロジェクトフォルダ」にまとめて開発を行うのが一般的です。吉里吉里は、起動時にプロジェクトフォルダを現在のカレントフォルダに設定します -->。<br />
　如果在项目文件夹内指定了相对路径，则即使在Releaser中指定了单个可执行文件，也不需要更改路径指定。<!-- プロジェクトフォルダ内の相対パスですべてを指定しておけば、Releaser で単一の実行可能ファイルなどにしてもパス指定を変える必要はありません。 --><br />
</div></div>
<h1><a id="id267" name="id267">数据（data）保存位置</a>
</h1><div class="para"><div>
　数据（data）的保存位置为使用 <a target="main" class="jump" href="CommandLine.html">命令行选项</a> 中的 -datapath 选项指定的目录。其值可以使用<a target="main" class="jump" href="f_System_dataPath.html">System.dataPath</a> 属性进行获取。
<br />
　吉里吉里输出的各种日志（log）或者用户自定义的设置文件等都会输出到这里。<br />
　同时，也推荐开发者在进行游戏或者工具开发时，将数据（data）保存在这里。<br />
</div></div>

	<script type="text/javascript" charset="Shift_JIS" src="../../js/documentid.js" ></script>
	<script type="text/javascript" charset="Shift_JIS" src="../../js/postcontent.js" ></script>
</body>
</html>
